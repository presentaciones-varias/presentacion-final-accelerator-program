<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Presentation Mentoring DS</title>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <meta name="date" content="2023-06-08" />
    <script src="presentacion_final_files/header-attrs-2.21/header-attrs.js"></script>
    <script src="presentacion_final_files/htmlwidgets-1.6.2/htmlwidgets.js"></script>
    <script src="presentacion_final_files/plotly-binding-4.10.1/plotly.js"></script>
    <script src="presentacion_final_files/typedarray-0.1/typedarray.min.js"></script>
    <script src="presentacion_final_files/jquery-3.5.1/jquery.min.js"></script>
    <link href="presentacion_final_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="presentacion_final_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
    <link href="presentacion_final_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="presentacion_final_files/plotly-main-2.11.1/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


class: center, middle

.linea-superior[]
.linea-inferior[]

&lt;img src="imagenes/logo_portada2.png" width="200" /&gt;


## Data Science Accelerator Program

### Socioeconomic stratification of the sampling frame of dwellings through the use of satellite images

#### June 8, 2023






---

background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Objective 1

**Stratify** selected portions of the dwelling sampling frame in the **Metropolitan Region**, identifying PSU of **high, medium and low** strata, using satellite images and  **visual recognition**.

--

.center[
&lt;img src="imagenes/ejemplo_upm.png" width="600" /&gt;
]



---

background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Objective 2

--

## But along the way we've changed a bit...

--

.center[&lt;img src="imagenes/meme.png" width="400"&gt;]

--

**Stratify** selected portions of the dwelling sampling frame in the **Metropolitan Region**, identifying PSU income as a **continuous variable** , using satellite images,  **visual recognition** and **and other data sources**.





---
background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Example of PSU

&lt;br/&gt;
&lt;br/&gt;

.center[
&lt;img src="imagenes/ejemplo_upm.png" width="600" /&gt;
]


---

background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Dataset and labels

We have ~1450 labeled images (PSU)

--

The (per capita) income data come from 3 surveys:
- Household budget survey (EPF)
- Socioeconomic characteization survey (CASEN)
- Supplementary Income Survey (ESI)

--

.center[
&lt;img src="imagenes/mean_upm.png" width="500" /&gt;
]



---
background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Features

**Sentinel-2 bands**
- bands
- operations over bands (minimum, maximum, median, sd)
- indices (build index, vegetation index, etc.)


--

### indices + bands + operations = 148 features

---


background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# More Features

.center[&lt;img src="imagenes/features.png" width="900"&gt;]


---

background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Training

80/20 partition

--

xgboost

--

hyper parameters optimization



---

background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Results

<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-90def1a56f883bd1bd7e" style="width:576px;height:360px;"></div>
<script type="application/json" data-for="htmlwidget-90def1a56f883bd1bd7e">{"x":{"data":[{"orientation":"h","width":[0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[0.267305425953849,0.134183146849612,0.0816510121074549,0.0783805992942496,0.0625425336877339,0.0346822077976488,0.0316940869354137,0.0192008070656857,0.0174669932030724,0.0150004137441501,0.0129688662437268,0.0124199174159757,0.00991062279372303,0.00946822537245282,0.00931455191516392,0.00925114011957252,0.00924402246050436,0.00910647131306428,0.00905632957321147,0.00883884833671094],"y":[20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1],"text":["Gain: 0.267305426","Gain: 0.134183147","Gain: 0.081651012","Gain: 0.078380599","Gain: 0.062542534","Gain: 0.034682208","Gain: 0.031694087","Gain: 0.019200807","Gain: 0.017466993","Gain: 0.015000414","Gain: 0.012968866","Gain: 0.012419917","Gain: 0.009910623","Gain: 0.009468225","Gain: 0.009314552","Gain: 0.009251140","Gain: 0.009244022","Gain: 0.009106471","Gain: 0.009056330","Gain: 0.008838848"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.9431299294313,"r":7.30593607305936,"b":41.6438356164384,"l":151.232876712329},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Most important variables","font":{"color":"rgba(0,0,0,1)","family":"","size":21.2536322125363},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.0133652712976924,0.280670697251541],"tickmode":"array","ticktext":["0.0","0.1","0.2"],"tickvals":[0,0.1,0.2],"categoryorder":"array","categoryarray":["0.0","0.1","0.2"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Gain","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,20.6],"tickmode":"array","ticktext":["B1_max","closest_dist_acuenta","B8_min","TCI_G_stdDev","B12_mean","build_index","B8A_max","B1_stdDev","red_roof","closest_dist_supermarket","por_preferente","B12_max","WVP_stdDev","n_pools","glosa_comunaprovidencia","soil","luz","closest_dist_pharmacy","TCI_R_mean","B11_mean"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],"categoryorder":"array","categoryarray":["B1_max","closest_dist_acuenta","B8_min","TCI_G_stdDev","B12_mean","build_index","B8A_max","B1_stdDev","red_roof","closest_dist_supermarket","por_preferente","B12_max","WVP_stdDev","n_pools","glosa_comunaprovidencia","soil","luz","closest_dist_pharmacy","TCI_R_mean","B11_mean"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":null,"family":null,"size":0}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"7a6fb511d35bd":{"x":{},"y":{},"type":"bar"}},"cur_data":"7a6fb511d35bd","visdat":{"7a6fb511d35bd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>


---
background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Results

<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b25f3269ab3412e6ecb8" style="width:576px;height:360px;"></div>
<script type="application/json" data-for="htmlwidget-b25f3269ab3412e6ecb8">{"x":{"data":[{"x":[107777.777777778,113280.13683266,120226.55859983,124740.92589032,135000,135951.25,140811.104166667,142752.833333333,144785.444856967,149616.194646329,150708.96914311,151011.5,151174.823862239,153877.333333333,157291.666666667,157842.854166667,162186.125,162500,163967.952170662,167155.222222222,171158.5,173267.666666667,174425,174924.022222222,177063.80952381,177341.236921959,180581.5,181501.666346215,182581.25,182791.11455062,183316.8,185245.1875,186847.119047619,187309.371428571,187752.901785714,188411.665097889,190622.833333333,191499.403786908,191952.333333333,196225.647321429,197704.066840671,199889.583821792,200088.583333333,200513.489607377,204562.5,204995.944444444,205245.213187424,207720.515625157,208225.333333333,208640.48902593,211274.833333333,212777.777777778,213345.238095238,214200.013333333,217208.356812276,217239.583333333,220444.444444444,221325.428571429,222684.596752226,226097.459635535,227500,227631.803848251,228571.058272268,229224.527777778,232300,233952.191147407,235278.678571429,235506.541666667,235592.350613663,236144.4,238381.944444444,239375,241060,241976.108738339,242135.8,244088,244221.88821594,244416.666666667,245980.775066318,246609.5,249770.801597702,252011.5,257488.388888889,257500,257846.169183988,258183.233333333,260262.944444444,261852.50952381,262048.666666667,262480.729146104,262689.333333333,264404.919994017,265319.430555556,267562,267698.35322267,269538.356771069,273568.891666667,275028.854055234,276382.5,276554.972222222,277422.66212427,277781.612240126,279616.544444444,281267.366666667,281952.25,282696.285714286,285299.285375737,285432.331389261,287714.357031686,295847.576666667,296519.136713024,297375.341379614,298493.524799577,300645.619047619,301779.666666667,302174.75,303437.5,303584.15,303770.642857143,305016.643939394,305353.30952381,305722.222222222,305891.333333333,306483.3,311794,314647.95,314722.25,316269.166666667,320337.25,320654.761904762,320963,323888.888888889,325815.094960369,326398.75,328039.125,330345.066666667,331389.983333333,332780.666666667,335410.875,337597.503472537,338281.5,338583.333333333,341623.2,342222.222222222,345112.166666667,346201.496598639,347747.409978615,348399.111111111,350281.157589351,352724.016666667,354070.8,355016.947771795,357894.564246107,364493.662661146,365070.138888889,365888.933333333,370024.25,370839.1875,373529.45,374381.306575657,386704.519359528,387502.63559745,390388.888888889,392376.533333333,396238.444444444,396792.885416667,397833.266666667,402531,403800,408015.75,409147.824136382,410833.333333333,411275.512698413,412398.738095238,413862.666178055,417935.066666667,427475.666666667,428238.710245793,430348.191741348,439055.5,441660.086735454,444693.042727513,446839.13,448066.666666667,453711.305518168,457187.5,459741.4,463469.5625,464418.166666667,467828.1,470522.985714286,470605.211111111,470735.166666667,473612.633333333,477690.992472955,479153.050130503,481237.893871318,508166.666666667,508275.055555556,517192.583333333,521416.6875,523247.225,523416.854761905,531197.904761905,532580.083333333,533285.554060115,539178.516666667,539566.416666667,541666.666666667,544666.466666667,548333.333333333,551356.111111111,557550.833333333,558232.842066498,561988.8,562941.2,598358.866666667,599208.35,600977.5875,601766.82,608042.291666667,608329.875,619210.343629809,620696.777777778,621986.666666667,623343.4,630913.416666667,632287.216666667,634627.083333333,639689.322566171,646657.218088692,650244.880208805,653507.75,658217.895833333,660405.388888889,664148.092679059,664483.125,666860.157142857,685625,691624.418797664,703659.222222222,714550.875,717988.944444444,731593.394544638,731675.666666667,744446.133333333,745389.36244454,763871.5,777330,788888.888888889,793279.806216749,803439.541666667,823781.022222222,825472.25,840952.279197134,869447.416666667,873429.375,876104.088020881,885111.116666667,888432.810618739,894380.230816667,897376.294302373,904157.79047619,914400,928199.775013388,946733.333333333,952320.444444444,978979,981208,981672.2,1008903.5,1031933.97507601,1073333.33333333,1073917.77777778,1099152.57437854,1118662.36666667,1135876.05555556,1193666.66666667,1194280.54433976,1205401.25,1260902.30148048,1262316.73333333,1296000,1304676.9,1311596.66666667,1368009.79520835,1467708.08400141,1508491.25,1526130.417894,1581250,1783869,1850934.88888889,2062711.88888889],"y":[226108.421875,229555.609375,231129.875,233159.75,235891.359375,241281.078125,241417.734375,242901.859375,243535.671875,244244.109375,244748.21875,250286.515625,250340.65625,250488.03125,251927.078125,253444.578125,253992.578125,254994.125,257924.953125,257942.359375,258354.015625,258737.84375,259581.875,259810.09375,259845.46875,260262.40625,260876.1875,260901.640625,260935.25,261082.03125,262536.25,263320.71875,263639.34375,264904.9375,265643.96875,266833.125,268686.5625,269638.875,269986.21875,270870.09375,271250.96875,271980.34375,272411.9375,273664.5625,274118.1875,274584.75,275973.65625,277035.3125,277165.125,277322.09375,278855.28125,278912.40625,279562.9375,279818.28125,280360.40625,280945.09375,283122.21875,283802.8125,286271.125,286319.8125,286347.1875,287494.59375,287619.34375,288007.21875,288610.4375,288909.71875,289440.1875,289471.84375,289613.59375,290785.3125,291268.75,291629.78125,291828.375,295066.5625,295686.53125,297704.4375,299801.84375,300602.15625,301399.53125,301618.53125,301849.15625,302137.21875,302575.4375,303011.53125,303381.15625,304742.3125,307103.625,310560.4375,311413.28125,312793.4375,314982.46875,315495.1875,315767.03125,315826.25,316223.6875,317163.71875,318208.6875,318670.96875,319020.75,319402.28125,319922.3125,320129.71875,320146.75,320423.25,320666.15625,321248.1875,321919.53125,322120.8125,325559.40625,326149.5,326248.28125,326410.09375,326872.625,326875.65625,327123.75,327994.46875,328077.875,329696.15625,330258.90625,330319.0625,332448.5625,335315.53125,335608.84375,337387.25,337834.21875,338837.1875,339434.5625,340191.9375,340849.90625,341251.96875,341649.28125,342217.28125,343605.5625,348412.5625,351416.4375,352421.40625,356725.90625,359526.03125,360807.21875,364431.3125,364880,365045.40625,367343.96875,368058.78125,372400.21875,373837.84375,377307.375,383258.90625,384962.34375,388943.53125,390537.84375,394227.25,396031.90625,396186.71875,398365.03125,398479.125,402782.625,402883.96875,402942.65625,403452.3125,403689.71875,403994.53125,406125.5,408140.78125,408350.71875,410338.75,413976.0625,414195.8125,415075.28125,415077.1875,416642.375,419455.28125,427358.3125,428786.46875,429782.25,437774.84375,437945.375,445276.59375,452688.6875,453114.28125,455891.09375,458757.90625,460086.90625,462516.5625,466840.5,474090.28125,477989.625,480337.78125,481017.78125,481625.75,484455.1875,488360.40625,489638.1875,491284.71875,491830.21875,495376.9375,503896.65625,504858.34375,510340.53125,527891.9375,537753.3125,538880,540012.375,543779.375,549421.8125,553226.5625,560177.875,575863.875,587573.125,593641.125,595855.625,597110.1875,604202.25,607978,615523.9375,616266.6875,644620.8125,646966.8125,647642,650070.1875,657286.8125,657984,674708,677927.5625,678245.5,683131.4375,687610.3125,693776.9375,697241.0625,698883.0625,699453.875,710116.125,715229.4375,732129.0625,735950,739392.4375,747946.375,748622.6875,749871.3125,751850.3125,755737.3125,768917.125,771094.0625,780599,780607.25,785493.125,785648.875,787059.6875,798843.9375,803779.75,808494.75,814480.125,823739.1875,850062.0625,853942.5625,862547.3125,867576.5625,872090,875922.6875,901358,904305.6875,908243.1875,908257.5625,919122.75,933734.4375,938595.8125,943144.625,948477.3125,948581.5625,951340.4375,951507.9375,961877.0625,965132.25,978053.875,984660.6875,1021438.1875,1025716,1046937,1049400,1067287.375,1067411.875,1072786.125,1084004.625,1094247.75,1097861.625,1111849.5,1182966.375,1193754.5,1216731.75,1219316.375,1299821,1319336.25,1323975.125],"text":["real:  107777.8<br />pred:  226108.4","real:  113280.1<br />pred:  229555.6","real:  120226.6<br />pred:  231129.9","real:  124740.9<br />pred:  233159.8","real:  135000.0<br />pred:  235891.4","real:  135951.2<br />pred:  241281.1","real:  140811.1<br />pred:  241417.7","real:  142752.8<br />pred:  242901.9","real:  144785.4<br />pred:  243535.7","real:  149616.2<br />pred:  244244.1","real:  150709.0<br />pred:  244748.2","real:  151011.5<br />pred:  250286.5","real:  151174.8<br />pred:  250340.7","real:  153877.3<br />pred:  250488.0","real:  157291.7<br />pred:  251927.1","real:  157842.9<br />pred:  253444.6","real:  162186.1<br />pred:  253992.6","real:  162500.0<br />pred:  254994.1","real:  163968.0<br />pred:  257925.0","real:  167155.2<br />pred:  257942.4","real:  171158.5<br />pred:  258354.0","real:  173267.7<br />pred:  258737.8","real:  174425.0<br />pred:  259581.9","real:  174924.0<br />pred:  259810.1","real:  177063.8<br />pred:  259845.5","real:  177341.2<br />pred:  260262.4","real:  180581.5<br />pred:  260876.2","real:  181501.7<br />pred:  260901.6","real:  182581.2<br />pred:  260935.2","real:  182791.1<br />pred:  261082.0","real:  183316.8<br />pred:  262536.2","real:  185245.2<br />pred:  263320.7","real:  186847.1<br />pred:  263639.3","real:  187309.4<br />pred:  264904.9","real:  187752.9<br />pred:  265644.0","real:  188411.7<br />pred:  266833.1","real:  190622.8<br />pred:  268686.6","real:  191499.4<br />pred:  269638.9","real:  191952.3<br />pred:  269986.2","real:  196225.6<br />pred:  270870.1","real:  197704.1<br />pred:  271251.0","real:  199889.6<br />pred:  271980.3","real:  200088.6<br />pred:  272411.9","real:  200513.5<br />pred:  273664.6","real:  204562.5<br />pred:  274118.2","real:  204995.9<br />pred:  274584.8","real:  205245.2<br />pred:  275973.7","real:  207720.5<br />pred:  277035.3","real:  208225.3<br />pred:  277165.1","real:  208640.5<br />pred:  277322.1","real:  211274.8<br />pred:  278855.3","real:  212777.8<br />pred:  278912.4","real:  213345.2<br />pred:  279562.9","real:  214200.0<br />pred:  279818.3","real:  217208.4<br />pred:  280360.4","real:  217239.6<br />pred:  280945.1","real:  220444.4<br />pred:  283122.2","real:  221325.4<br />pred:  283802.8","real:  222684.6<br />pred:  286271.1","real:  226097.5<br />pred:  286319.8","real:  227500.0<br />pred:  286347.2","real:  227631.8<br />pred:  287494.6","real:  228571.1<br />pred:  287619.3","real:  229224.5<br />pred:  288007.2","real:  232300.0<br />pred:  288610.4","real:  233952.2<br />pred:  288909.7","real:  235278.7<br />pred:  289440.2","real:  235506.5<br />pred:  289471.8","real:  235592.4<br />pred:  289613.6","real:  236144.4<br />pred:  290785.3","real:  238381.9<br />pred:  291268.8","real:  239375.0<br />pred:  291629.8","real:  241060.0<br />pred:  291828.4","real:  241976.1<br />pred:  295066.6","real:  242135.8<br />pred:  295686.5","real:  244088.0<br />pred:  297704.4","real:  244221.9<br />pred:  299801.8","real:  244416.7<br />pred:  300602.2","real:  245980.8<br />pred:  301399.5","real:  246609.5<br />pred:  301618.5","real:  249770.8<br />pred:  301849.2","real:  252011.5<br />pred:  302137.2","real:  257488.4<br />pred:  302575.4","real:  257500.0<br />pred:  303011.5","real:  257846.2<br />pred:  303381.2","real:  258183.2<br />pred:  304742.3","real:  260262.9<br />pred:  307103.6","real:  261852.5<br />pred:  310560.4","real:  262048.7<br />pred:  311413.3","real:  262480.7<br />pred:  312793.4","real:  262689.3<br />pred:  314982.5","real:  264404.9<br />pred:  315495.2","real:  265319.4<br />pred:  315767.0","real:  267562.0<br />pred:  315826.2","real:  267698.4<br />pred:  316223.7","real:  269538.4<br />pred:  317163.7","real:  273568.9<br />pred:  318208.7","real:  275028.9<br />pred:  318671.0","real:  276382.5<br />pred:  319020.8","real:  276555.0<br />pred:  319402.3","real:  277422.7<br />pred:  319922.3","real:  277781.6<br />pred:  320129.7","real:  279616.5<br />pred:  320146.8","real:  281267.4<br />pred:  320423.2","real:  281952.2<br />pred:  320666.2","real:  282696.3<br />pred:  321248.2","real:  285299.3<br />pred:  321919.5","real:  285432.3<br />pred:  322120.8","real:  287714.4<br />pred:  325559.4","real:  295847.6<br />pred:  326149.5","real:  296519.1<br />pred:  326248.3","real:  297375.3<br />pred:  326410.1","real:  298493.5<br />pred:  326872.6","real:  300645.6<br />pred:  326875.7","real:  301779.7<br />pred:  327123.8","real:  302174.8<br />pred:  327994.5","real:  303437.5<br />pred:  328077.9","real:  303584.2<br />pred:  329696.2","real:  303770.6<br />pred:  330258.9","real:  305016.6<br />pred:  330319.1","real:  305353.3<br />pred:  332448.6","real:  305722.2<br />pred:  335315.5","real:  305891.3<br />pred:  335608.8","real:  306483.3<br />pred:  337387.2","real:  311794.0<br />pred:  337834.2","real:  314648.0<br />pred:  338837.2","real:  314722.2<br />pred:  339434.6","real:  316269.2<br />pred:  340191.9","real:  320337.2<br />pred:  340849.9","real:  320654.8<br />pred:  341252.0","real:  320963.0<br />pred:  341649.3","real:  323888.9<br />pred:  342217.3","real:  325815.1<br />pred:  343605.6","real:  326398.8<br />pred:  348412.6","real:  328039.1<br />pred:  351416.4","real:  330345.1<br />pred:  352421.4","real:  331390.0<br />pred:  356725.9","real:  332780.7<br />pred:  359526.0","real:  335410.9<br />pred:  360807.2","real:  337597.5<br />pred:  364431.3","real:  338281.5<br />pred:  364880.0","real:  338583.3<br />pred:  365045.4","real:  341623.2<br />pred:  367344.0","real:  342222.2<br />pred:  368058.8","real:  345112.2<br />pred:  372400.2","real:  346201.5<br />pred:  373837.8","real:  347747.4<br />pred:  377307.4","real:  348399.1<br />pred:  383258.9","real:  350281.2<br />pred:  384962.3","real:  352724.0<br />pred:  388943.5","real:  354070.8<br />pred:  390537.8","real:  355016.9<br />pred:  394227.2","real:  357894.6<br />pred:  396031.9","real:  364493.7<br />pred:  396186.7","real:  365070.1<br />pred:  398365.0","real:  365888.9<br />pred:  398479.1","real:  370024.2<br />pred:  402782.6","real:  370839.2<br />pred:  402884.0","real:  373529.5<br />pred:  402942.7","real:  374381.3<br />pred:  403452.3","real:  386704.5<br />pred:  403689.7","real:  387502.6<br />pred:  403994.5","real:  390388.9<br />pred:  406125.5","real:  392376.5<br />pred:  408140.8","real:  396238.4<br />pred:  408350.7","real:  396792.9<br />pred:  410338.8","real:  397833.3<br />pred:  413976.1","real:  402531.0<br />pred:  414195.8","real:  403800.0<br />pred:  415075.3","real:  408015.8<br />pred:  415077.2","real:  409147.8<br />pred:  416642.4","real:  410833.3<br />pred:  419455.3","real:  411275.5<br />pred:  427358.3","real:  412398.7<br />pred:  428786.5","real:  413862.7<br />pred:  429782.2","real:  417935.1<br />pred:  437774.8","real:  427475.7<br />pred:  437945.4","real:  428238.7<br />pred:  445276.6","real:  430348.2<br />pred:  452688.7","real:  439055.5<br />pred:  453114.3","real:  441660.1<br />pred:  455891.1","real:  444693.0<br />pred:  458757.9","real:  446839.1<br />pred:  460086.9","real:  448066.7<br />pred:  462516.6","real:  453711.3<br />pred:  466840.5","real:  457187.5<br />pred:  474090.3","real:  459741.4<br />pred:  477989.6","real:  463469.6<br />pred:  480337.8","real:  464418.2<br />pred:  481017.8","real:  467828.1<br />pred:  481625.8","real:  470523.0<br />pred:  484455.2","real:  470605.2<br />pred:  488360.4","real:  470735.2<br />pred:  489638.2","real:  473612.6<br />pred:  491284.7","real:  477691.0<br />pred:  491830.2","real:  479153.1<br />pred:  495376.9","real:  481237.9<br />pred:  503896.7","real:  508166.7<br />pred:  504858.3","real:  508275.1<br />pred:  510340.5","real:  517192.6<br />pred:  527891.9","real:  521416.7<br />pred:  537753.3","real:  523247.2<br />pred:  538880.0","real:  523416.9<br />pred:  540012.4","real:  531197.9<br />pred:  543779.4","real:  532580.1<br />pred:  549421.8","real:  533285.6<br />pred:  553226.6","real:  539178.5<br />pred:  560177.9","real:  539566.4<br />pred:  575863.9","real:  541666.7<br />pred:  587573.1","real:  544666.5<br />pred:  593641.1","real:  548333.3<br />pred:  595855.6","real:  551356.1<br />pred:  597110.2","real:  557550.8<br />pred:  604202.2","real:  558232.8<br />pred:  607978.0","real:  561988.8<br />pred:  615523.9","real:  562941.2<br />pred:  616266.7","real:  598358.9<br />pred:  644620.8","real:  599208.3<br />pred:  646966.8","real:  600977.6<br />pred:  647642.0","real:  601766.8<br />pred:  650070.2","real:  608042.3<br />pred:  657286.8","real:  608329.9<br />pred:  657984.0","real:  619210.3<br />pred:  674708.0","real:  620696.8<br />pred:  677927.6","real:  621986.7<br />pred:  678245.5","real:  623343.4<br />pred:  683131.4","real:  630913.4<br />pred:  687610.3","real:  632287.2<br />pred:  693776.9","real:  634627.1<br />pred:  697241.1","real:  639689.3<br />pred:  698883.1","real:  646657.2<br />pred:  699453.9","real:  650244.9<br />pred:  710116.1","real:  653507.8<br />pred:  715229.4","real:  658217.9<br />pred:  732129.1","real:  660405.4<br />pred:  735950.0","real:  664148.1<br />pred:  739392.4","real:  664483.1<br />pred:  747946.4","real:  666860.2<br />pred:  748622.7","real:  685625.0<br />pred:  749871.3","real:  691624.4<br />pred:  751850.3","real:  703659.2<br />pred:  755737.3","real:  714550.9<br />pred:  768917.1","real:  717988.9<br />pred:  771094.1","real:  731593.4<br />pred:  780599.0","real:  731675.7<br />pred:  780607.2","real:  744446.1<br />pred:  785493.1","real:  745389.4<br />pred:  785648.9","real:  763871.5<br />pred:  787059.7","real:  777330.0<br />pred:  798843.9","real:  788888.9<br />pred:  803779.8","real:  793279.8<br />pred:  808494.8","real:  803439.5<br />pred:  814480.1","real:  823781.0<br />pred:  823739.2","real:  825472.2<br />pred:  850062.1","real:  840952.3<br />pred:  853942.6","real:  869447.4<br />pred:  862547.3","real:  873429.4<br />pred:  867576.6","real:  876104.1<br />pred:  872090.0","real:  885111.1<br />pred:  875922.7","real:  888432.8<br />pred:  901358.0","real:  894380.2<br />pred:  904305.7","real:  897376.3<br />pred:  908243.2","real:  904157.8<br />pred:  908257.6","real:  914400.0<br />pred:  919122.8","real:  928199.8<br />pred:  933734.4","real:  946733.3<br />pred:  938595.8","real:  952320.4<br />pred:  943144.6","real:  978979.0<br />pred:  948477.3","real:  981208.0<br />pred:  948581.6","real:  981672.2<br />pred:  951340.4","real: 1008903.5<br />pred:  951507.9","real: 1031934.0<br />pred:  961877.1","real: 1073333.3<br />pred:  965132.2","real: 1073917.8<br />pred:  978053.9","real: 1099152.6<br />pred:  984660.7","real: 1118662.4<br />pred: 1021438.2","real: 1135876.1<br />pred: 1025716.0","real: 1193666.7<br />pred: 1046937.0","real: 1194280.5<br />pred: 1049400.0","real: 1205401.2<br />pred: 1067287.4","real: 1260902.3<br />pred: 1067411.9","real: 1262316.7<br />pred: 1072786.1","real: 1296000.0<br />pred: 1084004.6","real: 1304676.9<br />pred: 1094247.8","real: 1311596.7<br />pred: 1097861.6","real: 1368009.8<br />pred: 1111849.5","real: 1467708.1<br />pred: 1182966.4","real: 1508491.2<br />pred: 1193754.5","real: 1526130.4<br />pred: 1216731.8","real: 1581250.0<br />pred: 1219316.4","real: 1783869.0<br />pred: 1299821.0","real: 1850934.9<br />pred: 1319336.2","real: 2062711.9<br />pred: 1323975.1"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[10031.0722222222,2160458.59444444],"y":[10031.0722222222,2160458.59444444],"text":"intercept: 0<br />slope: 1","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.9431299294313,"r":7.30593607305936,"b":41.6438356164384,"l":51.8721461187215},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"QQ plot. Predicted versus real","font":{"color":"rgba(0,0,0,1)","family":"","size":21.2536322125363},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10031.0722222222,2160458.59444444],"tickmode":"array","ticktext":["500000","1000000","1500000","2000000"],"tickvals":[500000,1000000,1500000,2000000],"categoryorder":"array","categoryarray":["500000","1000000","1500000","2000000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"real","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10031.0722222222,2160458.59444444],"tickmode":"array","ticktext":["500000","1000000","1500000","2000000"],"tickvals":[500000,1000000,1500000,2000000],"categoryorder":"array","categoryarray":["500000","1000000","1500000","2000000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":null,"family":null,"size":0}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"7a6fb4467164b":{"x":{},"y":{},"type":"scatter"},"7a6fb27f0167c":{"intercept":{},"slope":{}}},"cur_data":"7a6fb4467164b","visdat":{"7a6fb4467164b":["function (y) ","x"],"7a6fb27f0167c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>




---
background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Beyond the program


### Roofs detection (SAM)


.center[&lt;img src="imagenes/roofs.png" width="400"&gt;]


--

**We will receive new data**

- More data
- More consistent data


---
background-image: url("imagenes/fondo2.PNG")
background-size: contain;
background-position: 100% 0%

# Shinyapp


## Let's take a look at the app


---

class: center, middle

.linea-superior[]
.linea-inferior[]

&lt;img src="imagenes/logo_portada2.png" width="200" /&gt;


## Presentation DS Accelerator Program

### Socioeconomic stratification of the sampling frame of dwellings through the use of satellite images

#### June 8, 2023
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
